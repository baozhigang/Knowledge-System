# 《MySQL实战45讲》— 极客时间丁奇(6-10) 专栏总结

### 06 全局锁和表锁 
    1）MySQL的锁可分为：全局锁、表级锁、行锁
    2）全局表主要用在逻辑备份过程中，对于全部是InnoDB引擎的库，single-transaction 可重复读，对应用更友好
    3）表锁一般是数据库引擎不支持行锁的时候才会被用到
    4）在MySQL5.5版本中添加了MDL，对一个表增删改查的时候添加读锁（只读），修改表结构的时候，添加写锁
    5）MDL直到事务提交才释放 

### 07 行锁功过 
    1）两阶段锁协议：
        在InnoDB事务中，行锁是在需要的时候才加上的，而并不是不需要了就立刻释放。而是在整个事务完成后才释放
        所以在事务中，要把最容易造成冲突的，最容易影响并发的锁的放到最后
    2）死锁和死锁检测
        innodb_deadlock_detect  = on  主动开启死锁检测。死锁检测比较耗内存，所以要控制好并发 

### 08 事务到底是隔离的还是不隔离的

### 09 普通索引和唯一索引 怎么选择？
    由于唯一索引用不上change buffer的优化机制，所以优先考虑非唯一索引

### 10 MySQL为什么有时候会选错索引？

