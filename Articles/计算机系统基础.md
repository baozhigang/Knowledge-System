# 《计算机系统基础》— 南京大学

### 第1周 计算机系统概述 

### 第2周 数据的表示和存储 

#### 第1讲 数制和编码
1.机器级数据分两大类
- 数值数据：无符号整数、带符号整数、浮点数（实数）
- 非数值数据： 逻辑数（包括位串）、西文字符和汉字     

2.计算机内部所有信息都用二进制（0和1）进行编码
3.用二进制编码原因：
- 制造二个稳定态的物理器件容易（电位高/低、脉冲有/无、正/负极）
- 二进制编码编码、计数、运算规则简单
- 正好与逻辑命题真/假对应，便于逻辑运算
- 可方便的用逻辑电路实现算数运算

4.真值和机器数
- 机器数：用0和1编码的计算机内部0/1序列
- 真值： 真正的值，即现实中带正负号的数

5.数值数据表示的三要素
- 进位计数制
- 定、浮点表示
- 如何用二进制编码 

6.进位计数制
- 十进制、二进制、十六进制等相互转化    

7.定、浮点表示（解决小数点问题）
- 定点整数、定点小数
- 浮点数（可用一个定点小数和定点整数来表示）

8.定点数的编码（解决正负号问题）
-  原码、补码、移码、反码（反码很少用）

9.有了二进制，为什么要八进制和十六进制 ？
-- 便于阅读和书写，相比二进制可缩短长度

10.二进制后缀B，如： 1010B
   十六进制后缀H，或者前缀0x 如：0xac45108d、ac45108dH 

11.十进制和R进制数之间的转换   
12.现实中的精确值可能在计算机当中无法精确表示 如：10.63 

13.计算机中只有1和0，数值数据中的小数点怎么表示呢？
-- 计算机只能通过约定小数点的位置来表示
-- 小数点位置约定在固定位置的数称为定点数
-- 小数点位置约定为可浮动的数称为浮点数 

#### 第2讲 定点数的编码表示
1.原码表示
- 正号用0表示，负号用1表示，数值部分不变，如：
-- 7 -> 0111, -7 -> 1111 (即最前面一位表示正负号) 
- 容易理解，但是优缺点：
-- 0的表示不唯一，不利于程序员编程
-- 加减运算方式不统一 ？
-- 需额外对负号进行处理，不利于硬件设计
-- 特别当a < b时，实现a-b比较困难 ？
- 从50年代开始，整数都采用补码表示，但是浮点数的尾数用原码定点小数表示

2.移码表示
- 将每一个数值加上一个偏置常数
- 通常，当编码位数为n时，取2的n或者n-1次方。如：
-- 1000B（补码表示，最高位为负权） -8（+8）-> 0000B （移码表示）
-- 1001B（补码表示，最高位为负权） -7(+8) -> 0001B (移码表示) 

3.补码（模运算）
- 时钟是一种模12系统，-4的模12补码等于8 
- 一个负数的补码等于模减去该负数的绝对值
- 对于确定的模，如模12系统，10-4等价于10+8=18%12 = 6 
- 补码定义：[X]补 = 2的n次方 + X （-2n<=X<2n, mod2n）
-- 正数，符号位为0，数值部分不变
-- 负数，符号位为1，数值部分”数值取反，末尾加1“
- 变形补码，双符号，用于存放可能溢出的中间结果 

#### 第3讲 C语言中的整数
1.无符号整数
- 机器中字的位排列有两种方式：
-- LSB最低有效位  MSB最高有效位 

2.带符号整数
用MSB表示数符（0--正数，1--负数）

#### 第4讲 浮点数的编码表示
1.浮点数的表示范围
- 第0位数符S 
- 第1~8位为8位移码，表示阶码E(偏置常数为128)
- 第9~31位为24位二进制原码小数表示的位数M 
- 机器0：尾数为0或者落在下溢区中的数 
- 浮点数范围比定点数大，但数的个数没变多，故数之间更稀疏，且不均匀 

2.IEEE754标准 
- 规格化数： +/-1.xxxxxxx(two) * 2(ex) 
- SP规格化阶码范围 0000 0001(-126) ~ 1111 1110(127) 
- 偏置常数 单精度127， 双精度1023
- SP： (-1)s * (1+significand) * 2(ex-127)
- DP： (-1)s * (1+significand) * 2(ex-1023) 